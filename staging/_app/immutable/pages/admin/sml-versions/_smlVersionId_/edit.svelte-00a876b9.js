import{S as j,i as k,s as B,ba as C,u as H,ad as U,Z as x,a as q,e as I,aa as L,aT as Z,_ as E,f as $,g as A,c as w,d as D,ab as y,a7 as _,$ as v,j as p,a5 as M,ae as z,m as g,t as h,a1 as S,aC as F,al as G,aB as J,aD as K,bb as Q,b as N,k as R,l as W,ac as O,q as b}from"../../../../chunks/vendor-3906a87e.js";import{p as X}from"../../../../chunks/routing-c6322149.js";import{d as Y,U as tt}from"../../../../chunks/graphql-c174641c.js";import{T as rt}from"../../../../chunks/Toast-2c4756ef.js";import{g as st}from"../../../../chunks/navigation-ce539261.js";import{S as et}from"../../../../chunks/SMLVersionForm-ab467a85.js";import{b as at}from"../../../../chunks/paths-1c47712a.js";import{M as nt}from"../../../../chunks/MetaDescriptors-3bdad2d4.js";import"../../../../chunks/singletons-cdeec3fd.js";import"../../../../chunks/forms-a08ac836.js";import"../../../../chunks/forms-d082c50e.js";import"../../../../chunks/markdown-6a2ff7f0.js";import"../../../../chunks/extras-8984d02f.js";import"../../../../chunks/stores-656a72dd.js";function it(o){let t,s;return t=new et({props:{onSubmit:o[5],initialValues:o[3],submitText:"Save"}}),{c(){x(t.$$.fragment)},l(r){E(t.$$.fragment,r)},m(r,e){v(t,r,e),s=!0},p(r,e){const f={};e&8&&(f.initialValues=r[3]),t.$set(f)},i(r){s||(g(t.$$.fragment,r),s=!0)},o(r){h(t.$$.fragment,r),s=!1},d(r){S(t,r)}}}function ot(o){let t,s,r=o[1].error.message+"",e;return{c(){t=I("p"),s=L("Oh no... "),e=L(r)},l(f){t=w(f,"P",{});var i=D(t);s=y(i,"Oh no... "),e=y(i,r),i.forEach($)},m(f,i){p(f,t,i),M(t,s),M(t,e)},p(f,i){i&2&&r!==(r=f[1].error.message+"")&&O(e,r)},i:b,o:b,d(f){f&&$(t)}}}function ft(o){let t,s;return{c(){t=I("p"),s=L("Loading...")},l(r){t=w(r,"P",{});var e=D(t);s=y(e,"Loading..."),e.forEach($)},m(r,e){p(r,t,e),M(t,s)},p:b,i:b,o:b,d(r){r&&$(t)}}}function lt(o){let t,s,r,e;const f=[ft,ot,it],i=[];function m(n,c){return n[1].fetching?0:n[1].error?1:2}return t=m(o),s=i[t]=f[t](o),{c(){s.c(),r=N()},l(n){s.l(n),r=N()},m(n,c){i[t].m(n,c),p(n,r,c),e=!0},p(n,c){let d=t;t=m(n),t===d?i[t].p(n,c):(R(),h(i[d],1,1,()=>{i[d]=null}),W(),s=i[t],s?s.p(n,c):(s=i[t]=f[t](n),s.c()),g(s,1),s.m(r.parentNode,r))},i(n){e||(g(s),e=!0)},o(n){h(s),e=!1},d(n){i[t].d(n),n&&$(r)}}}function mt(o){let t,s;return t=new Q({props:{$$slots:{default:[lt]},$$scope:{ctx:o}}}),{c(){x(t.$$.fragment)},l(r){E(t.$$.fragment,r)},m(r,e){v(t,r,e),s=!0},p(r,e){const f={};e&522&&(f.$$scope={dirty:e,ctx:r}),t.$set(f)},i(r){s||(g(t.$$.fragment,r),s=!0)},o(r){h(t.$$.fragment,r),s=!1},d(r){S(t,r)}}}function $t(o){let t,s;return{c(){t=I("span"),s=L(o[2])},l(r){t=w(r,"SPAN",{});var e=D(t);s=y(e,o[2]),e.forEach($)},m(r,e){p(r,t,e),M(t,s)},p(r,e){e&4&&O(s,r[2])},d(r){r&&$(t)}}}function ct(o){let t,s,r,e,f,i,m,n,c,d;t=new nt({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),i=new C({props:{$$slots:{default:[mt]},$$scope:{ctx:o}}});function P(a){o[7](a)}let u={$$slots:{default:[$t]},$$scope:{ctx:o}};return o[0]!==void 0&&(u.running=o[0]),n=new rt({props:u}),H.push(()=>U(n,"running",P)),{c(){x(t.$$.fragment),s=q(),r=I("h1"),e=L("Edit SMLVersion"),f=q(),x(i.$$.fragment),m=q(),x(n.$$.fragment),this.h()},l(a){const l=Z('[data-svelte="svelte-7e9nlv"]',document.head);E(t.$$.fragment,l),l.forEach($),s=A(a),r=w(a,"H1",{class:!0});var V=D(r);e=y(V,"Edit SMLVersion"),V.forEach($),f=A(a),E(i.$$.fragment,a),m=A(a),E(n.$$.fragment,a),this.h()},h(){_(r,"class","text-4xl my-4 font-bold")},m(a,l){v(t,document.head,null),p(a,s,l),p(a,r,l),M(r,e),p(a,f,l),v(i,a,l),p(a,m,l),v(n,a,l),d=!0},p(a,[l]){const V={};l&522&&(V.$$scope={dirty:l,ctx:a}),i.$set(V);const T={};l&516&&(T.$$scope={dirty:l,ctx:a}),!c&&l&1&&(c=!0,T.running=a[0],z(()=>c=!1)),n.$set(T)},i(a){d||(g(t.$$.fragment,a),g(i.$$.fragment,a),g(n.$$.fragment,a),d=!0)},o(a){h(t.$$.fragment,a),h(i.$$.fragment,a),h(n.$$.fragment,a),d=!1},d(a){S(t),a&&$(s),a&&$(r),a&&$(f),S(i,a),a&&$(m),S(n,a)}}}const wt=X();function ut(o,t,s){let r,e,{smlVersionId:f}=t,i="",m=!1;const n=F(Y,{smlVersionID:f});G(o,n,u=>s(1,e=u));const c=J({query:tt}),d=u=>{c({smlVersionID:f,smlVersion:u}).then(a=>{a.error?(console.error(a.error.message),s(2,i="Error editing sMLVersion: "+a.error.message),s(0,m=!0)):st(at+"/admin/sml-versions")})};K(n);function P(u){m=u,s(0,m)}return o.$$set=u=>{"smlVersionId"in u&&s(6,f=u.smlVersionId)},o.$$.update=()=>{o.$$.dirty&1&&(m||s(2,i="")),o.$$.dirty&2&&s(3,r=e.data?{...e.data.getSMLVersion,logo:void 0}:void 0)},[m,e,i,r,n,d,f,P]}class Dt extends j{constructor(t){super(),k(this,t,ut,ct,B,{smlVersionId:6})}}export{Dt as default,wt as load};
//# sourceMappingURL=edit.svelte-00a876b9.js.map
