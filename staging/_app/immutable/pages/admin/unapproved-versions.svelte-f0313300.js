import{S as Y,i as ee,s as te,ba as re,Z as x,a as b,b as _,aT as ne,_ as v,f as u,g as D,$ as w,j as g,m as p,t as d,l as k,a1 as y,aC as $e,al as fe,an as se,aB as S,aD as ae,e as A,c as B,d as R,a7 as O,a5 as N,k as q,w as oe,bb as Q,aa as V,ab as M,ac as C,aM as le,aH as U}from"../../chunks/vendor-3906a87e.js";import{h as ie,i as ce,j as me}from"../../chunks/graphql-c174641c.js";import{P as W}from"../../chunks/PageControls-853f2dd8.js";import{a as T}from"../../chunks/api-bb6d5972.js";import"../../chunks/user-d8fd3640.js";import{b as Z}from"../../chunks/paths-1c47712a.js";import{M as ue}from"../../chunks/MetaDescriptors-3bdad2d4.js";import{D as pe,H as de,B as ge,R as X,C as P}from"../../chunks/forms-a08ac836.js";import{p as z}from"../../chunks/formatting-b1e7d458.js";import"../../chunks/stores-656a72dd.js";function F(s,e,r){const t=s.slice();return t[10]=e[r],t}function G(s){let e,r,t,n;return t=new W({props:{totalPages:Math.ceil(s[1]/j),currentPage:s[3]}}),{c(){e=A("div"),r=A("div"),x(t.$$.fragment),this.h()},l(f){e=B(f,"DIV",{class:!0});var o=R(e);r=B(o,"DIV",{});var i=R(r);v(t.$$.fragment,i),i.forEach(u),o.forEach(u),this.h()},h(){O(e,"class","mb-5 ml-auto flex justify-end")},m(f,o){g(f,e,o),N(e,r),w(t,r,null),n=!0},p(f,o){const i={};o&2&&(i.totalPages=Math.ceil(f[1]/j)),t.$set(i)},i(f){n||(p(t.$$.fragment,f),n=!0)},o(f){d(t.$$.fragment,f),n=!1},d(f){f&&u(e),y(t)}}}function he(s){let e,r;return e=new pe({props:{class:"max-w-full",$$slots:{default:[Be]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8193&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function xe(s){let e,r;return e=new Q({props:{$$slots:{default:[Re]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8193&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function ve(s){let e,r;return e=new Q({props:{$$slots:{default:[qe]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8192&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function we(s){let e;return{c(){e=V("Mod")},l(r){e=M(r,"Mod")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function ye(s){let e;return{c(){e=V("Version")},l(r){e=M(r,"Version")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function be(s){let e;return{c(){e=V("Release Date")},l(r){e=M(r,"Release Date")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function De(s){let e,r,t,n,f,o,i,a;return e=new P({props:{$$slots:{default:[we]},$$scope:{ctx:s}}}),t=new P({props:{$$slots:{default:[ye]},$$scope:{ctx:s}}}),f=new P({props:{$$slots:{default:[be]},$$scope:{ctx:s}}}),i=new P({}),{c(){x(e.$$.fragment),r=b(),x(t.$$.fragment),n=b(),x(f.$$.fragment),o=b(),x(i.$$.fragment)},l(l){v(e.$$.fragment,l),r=D(l),v(t.$$.fragment,l),n=D(l),v(f.$$.fragment,l),o=D(l),v(i.$$.fragment,l)},m(l,$){w(e,l,$),g(l,r,$),w(t,l,$),g(l,n,$),w(f,l,$),g(l,o,$),w(i,l,$),a=!0},p(l,$){const c={};$&8192&&(c.$$scope={dirty:$,ctx:l}),e.$set(c);const h={};$&8192&&(h.$$scope={dirty:$,ctx:l}),t.$set(h);const m={};$&8192&&(m.$$scope={dirty:$,ctx:l}),f.$set(m)},i(l){a||(p(e.$$.fragment,l),p(t.$$.fragment,l),p(f.$$.fragment,l),p(i.$$.fragment,l),a=!0)},o(l){d(e.$$.fragment,l),d(t.$$.fragment,l),d(f.$$.fragment,l),d(i.$$.fragment,l),a=!1},d(l){y(e,l),l&&u(r),y(t,l),l&&u(n),y(f,l),l&&u(o),y(i,l)}}}function Ve(s){let e,r;return e=new X({props:{$$slots:{default:[De]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8192&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Me(s){let e=s[10].mod.name+"",r;return{c(){r=V(e)},l(t){r=M(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=t[10].mod.name+"")&&C(r,e)},d(t){t&&u(r)}}}function Pe(s){let e=s[10].version+"",r;return{c(){r=V(e)},l(t){r=M(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=t[10].version+"")&&C(r,e)},d(t){t&&u(r)}}}function _e(s){let e=z(s[10].created_at)+"",r;return{c(){r=V(e)},l(t){r=M(t,e)},m(t,n){g(t,r,n)},p(t,n){n&1&&e!==(e=z(t[10].created_at)+"")&&C(r,e)},d(t){t&&u(r)}}}function je(s){let e;return{c(){e=V("Approve")},l(r){e=M(r,"Approve")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ie(s){let e;return{c(){e=V("Deny")},l(r){e=M(r,"Deny")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ee(s){let e;return{c(){e=V("Download")},l(r){e=M(r,"Download")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ue(s){let e;return{c(){e=V("View")},l(r){e=M(r,"View")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ne(s){let e,r,t,n,f,o,i,a,l;function $(){return s[6](s[10])}r=new U({props:{variant:"outlined",$$slots:{default:[je]},$$scope:{ctx:s}}}),r.$on("click",$);function c(){return s[7](s[10])}return n=new U({props:{variant:"outlined",$$slots:{default:[Ie]},$$scope:{ctx:s}}}),n.$on("click",c),o=new U({props:{variant:"outlined",href:T+"/mod/"+s[10].mod_id+"/versions/"+s[10].id+"/download",$$slots:{default:[Ee]},$$scope:{ctx:s}}}),a=new U({props:{variant:"outlined",href:Z+"/mod/"+s[10].mod_id+"/version/"+s[10].id,$$slots:{default:[Ue]},$$scope:{ctx:s}}}),{c(){e=A("div"),x(r.$$.fragment),t=b(),x(n.$$.fragment),f=b(),x(o.$$.fragment),i=b(),x(a.$$.fragment),this.h()},l(h){e=B(h,"DIV",{class:!0});var m=R(e);v(r.$$.fragment,m),t=D(m),v(n.$$.fragment,m),f=D(m),v(o.$$.fragment,m),i=D(m),v(a.$$.fragment,m),m.forEach(u),this.h()},h(){O(e,"class","grid grid-flow-col gap-4")},m(h,m){g(h,e,m),w(r,e,null),N(e,t),w(n,e,null),N(e,f),w(o,e,null),N(e,i),w(a,e,null),l=!0},p(h,m){s=h;const I={};m&8192&&(I.$$scope={dirty:m,ctx:s}),r.$set(I);const E={};m&8192&&(E.$$scope={dirty:m,ctx:s}),n.$set(E);const H={};m&1&&(H.href=T+"/mod/"+s[10].mod_id+"/versions/"+s[10].id+"/download"),m&8192&&(H.$$scope={dirty:m,ctx:s}),o.$set(H);const L={};m&1&&(L.href=Z+"/mod/"+s[10].mod_id+"/version/"+s[10].id),m&8192&&(L.$$scope={dirty:m,ctx:s}),a.$set(L)},i(h){l||(p(r.$$.fragment,h),p(n.$$.fragment,h),p(o.$$.fragment,h),p(a.$$.fragment,h),l=!0)},o(h){d(r.$$.fragment,h),d(n.$$.fragment,h),d(o.$$.fragment,h),d(a.$$.fragment,h),l=!1},d(h){h&&u(e),y(r),y(n),y(o),y(a)}}}function ke(s){let e,r,t,n,f,o,i,a,l;return e=new P({props:{$$slots:{default:[Me]},$$scope:{ctx:s}}}),t=new P({props:{$$slots:{default:[Pe]},$$scope:{ctx:s}}}),f=new P({props:{$$slots:{default:[_e]},$$scope:{ctx:s}}}),i=new P({props:{$$slots:{default:[Ne]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),r=b(),x(t.$$.fragment),n=b(),x(f.$$.fragment),o=b(),x(i.$$.fragment),a=b()},l($){v(e.$$.fragment,$),r=D($),v(t.$$.fragment,$),n=D($),v(f.$$.fragment,$),o=D($),v(i.$$.fragment,$),a=D($)},m($,c){w(e,$,c),g($,r,c),w(t,$,c),g($,n,c),w(f,$,c),g($,o,c),w(i,$,c),g($,a,c),l=!0},p($,c){const h={};c&8193&&(h.$$scope={dirty:c,ctx:$}),e.$set(h);const m={};c&8193&&(m.$$scope={dirty:c,ctx:$}),t.$set(m);const I={};c&8193&&(I.$$scope={dirty:c,ctx:$}),f.$set(I);const E={};c&8193&&(E.$$scope={dirty:c,ctx:$}),i.$set(E)},i($){l||(p(e.$$.fragment,$),p(t.$$.fragment,$),p(f.$$.fragment,$),p(i.$$.fragment,$),l=!0)},o($){d(e.$$.fragment,$),d(t.$$.fragment,$),d(f.$$.fragment,$),d(i.$$.fragment,$),l=!1},d($){y(e,$),$&&u(r),y(t,$),$&&u(n),y(f,$),$&&u(o),y(i,$),$&&u(a)}}}function J(s){let e,r;return e=new X({props:{$$slots:{default:[ke]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,n){w(e,t,n),r=!0},p(t,n){const f={};n&8193&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){d(e.$$.fragment,t),r=!1},d(t){y(e,t)}}}function Ae(s){let e,r,t=s[0].data.getUnapprovedVersions.versions,n=[];for(let o=0;o<t.length;o+=1)n[o]=J(F(s,t,o));const f=o=>d(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=_()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);e=_()},m(o,i){for(let a=0;a<n.length;a+=1)n[a].m(o,i);g(o,e,i),r=!0},p(o,i){if(i&49){t=o[0].data.getUnapprovedVersions.versions;let a;for(a=0;a<t.length;a+=1){const l=F(o,t,a);n[a]?(n[a].p(l,i),p(n[a],1)):(n[a]=J(l),n[a].c(),p(n[a],1),n[a].m(e.parentNode,e))}for(q(),a=t.length;a<n.length;a+=1)f(a);k()}},i(o){if(!r){for(let i=0;i<t.length;i+=1)p(n[i]);r=!0}},o(o){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)d(n[i]);r=!1},d(o){le(n,o),o&&u(e)}}}function Be(s){let e,r,t,n;return e=new de({props:{$$slots:{default:[Ve]},$$scope:{ctx:s}}}),t=new ge({props:{$$slots:{default:[Ae]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment),r=b(),x(t.$$.fragment)},l(f){v(e.$$.fragment,f),r=D(f),v(t.$$.fragment,f)},m(f,o){w(e,f,o),g(f,r,o),w(t,f,o),n=!0},p(f,o){const i={};o&8192&&(i.$$scope={dirty:o,ctx:f}),e.$set(i);const a={};o&8193&&(a.$$scope={dirty:o,ctx:f}),t.$set(a)},i(f){n||(p(e.$$.fragment,f),p(t.$$.fragment,f),n=!0)},o(f){d(e.$$.fragment,f),d(t.$$.fragment,f),n=!1},d(f){y(e,f),f&&u(r),y(t,f)}}}function Re(s){let e,r=s[0].error.message+"",t;return{c(){e=V("Oh no... "),t=V(r)},l(n){e=M(n,"Oh no... "),t=M(n,r)},m(n,f){g(n,e,f),g(n,t,f)},p(n,f){f&1&&r!==(r=n[0].error.message+"")&&C(t,r)},d(n){n&&u(e),n&&u(t)}}}function qe(s){let e;return{c(){e=V("Loading...")},l(r){e=M(r,"Loading...")},m(r,t){g(r,e,t)},d(r){r&&u(e)}}}function Ce(s){let e,r,t,n;const f=[ve,xe,he],o=[];function i(a,l){return a[0].fetching?0:a[0].error?1:2}return e=i(s),r=o[e]=f[e](s),{c(){r.c(),t=_()},l(a){r.l(a),t=_()},m(a,l){o[e].m(a,l),g(a,t,l),n=!0},p(a,l){let $=e;e=i(a),e===$?o[e].p(a,l):(q(),d(o[$],1,1,()=>{o[$]=null}),k(),r=o[e],r?r.p(a,l):(r=o[e]=f[e](a),r.c()),p(r,1),r.m(t.parentNode,t))},i(a){n||(p(r),n=!0)},o(a){d(r),n=!1},d(a){o[e].d(a),a&&u(t)}}}function K(s){let e,r,t;return r=new W({props:{totalPages:Math.ceil(s[1]/j),currentPage:s[3]}}),{c(){e=A("div"),x(r.$$.fragment),this.h()},l(n){e=B(n,"DIV",{class:!0});var f=R(e);v(r.$$.fragment,f),f.forEach(u),this.h()},h(){O(e,"class","mt-5 ml-auto flex justify-end")},m(n,f){g(n,e,f),w(r,e,null),t=!0},p(n,f){const o={};f&2&&(o.totalPages=Math.ceil(n[1]/j)),r.$set(o)},i(n){t||(p(r.$$.fragment,n),t=!0)},o(n){d(r.$$.fragment,n),t=!1},d(n){n&&u(e),y(r)}}}function He(s){let e,r,t,n,f,o,i;e=new ue({props:{description:"Unapproved mod versions",title:"Admin: Unapproved Versions"}});let a=s[1]&&G(s);n=new re({props:{$$slots:{default:[Ce]},$$scope:{ctx:s}}});let l=s[1]&&K(s);return{c(){x(e.$$.fragment),r=b(),a&&a.c(),t=b(),x(n.$$.fragment),f=b(),l&&l.c(),o=_()},l($){const c=ne('[data-svelte="svelte-c87g9p"]',document.head);v(e.$$.fragment,c),c.forEach(u),r=D($),a&&a.l($),t=D($),v(n.$$.fragment,$),f=D($),l&&l.l($),o=_()},m($,c){w(e,document.head,null),g($,r,c),a&&a.m($,c),g($,t,c),w(n,$,c),g($,f,c),l&&l.m($,c),g($,o,c),i=!0},p($,[c]){$[1]?a?(a.p($,c),c&2&&p(a,1)):(a=G($),a.c(),p(a,1),a.m(t.parentNode,t)):a&&(q(),d(a,1,1,()=>{a=null}),k());const h={};c&8193&&(h.$$scope={dirty:c,ctx:$}),n.$set(h),$[1]?l?(l.p($,c),c&2&&p(l,1)):(l=K($),l.c(),p(l,1),l.m(o.parentNode,o)):l&&(q(),d(l,1,1,()=>{l=null}),k())},i($){i||(p(e.$$.fragment,$),p(a),p(n.$$.fragment,$),p(l),i=!0)},o($){d(e.$$.fragment,$),d(a),d(n.$$.fragment,$),d(l),i=!1},d($){y(e),$&&u(r),a&&a.d($),$&&u(t),y(n,$),$&&u(f),l&&l.d($),$&&u(o)}}}const j=20;function Le(s,e,r){let t;const n=$e(ie,{filter:{offset:0,limit:j}});fe(s,n,m=>r(0,t=m));const f=oe(1);let o;f.subscribe(m=>se(n,t.variables.filter.offset=(m-1)*j,t));const i=S({query:ce}),a=m=>{i({versionId:m}).then(()=>{n.reexecute()})},l=S({query:me}),$=m=>{l({versionId:m}).then(()=>{n.reexecute()})};ae(n);const c=m=>a(m.id),h=m=>$(m.id);return s.$$.update=()=>{s.$$.dirty&1&&r(1,o=t?.data?.getUnapprovedVersions?.count)},[t,o,n,f,a,$,c,h]}class We extends Y{constructor(e){super(),ee(this,e,Le,He,te,{})}}export{We as default};
//# sourceMappingURL=unapproved-versions.svelte-f0313300.js.map
